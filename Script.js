// Language support
const translations = {
    en: {
        // Navigation
        "nav.about": "About Us",
        "nav.services": "Services",
        "nav.team": "Our Team",
        "nav.contact": "Contact",
        "nav.technicians": "For Technicians",

        // Language toggle
        "language.english": "EN",
        "language.spanish": "ES",

        // Hero section
        "hero.title": "Find the Right Technician for Your Home Needs",
        "hero.subtitle": "One man who has a good understanding, for all your home maintenance and labor service requirements.",
        "hero.button": "Get Started",

        // Team section
        "team.title": "Our Team",

        // Mission section
        "mission.title": "Our Mission & Vision",
        "mission.text": "Our mission is to simplify home maintenance by providing a reliable platform that connects users with qualified technicians. We envision a future where finding the right help for your home is effortless and transparent.",

        // Benefits section
        "benefits.title": "How ChambaPro Benefits You",
        "benefits.card1.title": "Save Time",
        "benefits.card1.text": "Quickly find qualified technicians without spending hours searching and vetting.",
        "benefits.card2.title": "Fair Pricing",
        "benefits.card2.text": "Get transparent quotes and competitive pricing for all your home service needs.",
        "benefits.card3.title": "Verified Professionals",
        "benefits.card3.text": "All our technicians are thoroughly vetted and background checked for your peace of mind.",

        // Footer
        "footer.about": "About Us",
        "footer.story": "Our Story",
        "footer.howItWorks": "How It Works",
        "footer.team": "Team",
        "footer.careers": "Careers",
        "footer.services": "Services",
        "footer.plumbing": "Plumbing",
        "footer.electrical": "Electrical",
        "footer.carpentry": "Carpentry",
        "footer.painting": "Painting",
        "footer.repairs": "General Repairs",
        "footer.contact": "Contact",
        "footer.support": "Support",
        "footer.help": "Help Center",
        "footer.faq": "FAQs",
        "footer.book": "Book a Service",
        "footer.terms": "Terms of Service",
        "footer.privacy": "Privacy Policy",
        "footer.termsUse": "Terms of Use",
        "footer.cookie": "Cookie Policy",
        "footer.guarantee": "Guarantee",
        "footer.rights": "All rights reserved.",

        // CTA Section
        "cta.technicians.title": "Are You a Technician?",
        "cta.technicians.subtitle": "Join our network of professionals and grow your business with ChambaPro",
        "cta.technicians.button": "Learn More",

        // Technician page translations
        "technicians.hero.title": "Join Our Network of Expert Technicians",
        "technicians.hero.subtitle": "Maximize your potential and grow your business with the best market opportunities",
        "technicians.hero.button": "Apply Now",

        "technicians.benefits.title": "Exclusive Benefits for Technicians",
        "technicians.benefits.subtitle": "Discover why over 500 technicians trust us",
        "technicians.benefits.card1.title": "More Jobs",
        "technicians.benefits.card1.text": "Access a steady portfolio of clients who need your specialized services.",
        "technicians.benefits.card2.title": "Better Income",
        "technicians.benefits.card2.text": "Competitive rates and premium job opportunities with higher remuneration.",
        "technicians.benefits.card3.title": "Schedule Flexibility",
        "technicians.benefits.card3.text": "You decide when and how much to work. Control your schedule according to your availability.",
        "technicians.benefits.card4.title": "Protection and Security",
        "technicians.benefits.card4.text": "Work with peace of mind thanks to our civil liability insurance and client verification.",
        "technicians.benefits.card5.title": "Digital Tools",
        "technicians.benefits.card5.text": "Access to our platform with appointment management, automated payments, and client tracking.",
        "technicians.benefits.card6.title": "Continuous Training",
        "technicians.benefits.card6.text": "Training programs to improve your skills and learn new techniques.",

        "technicians.howitworks.title": "How It Works?",
        "technicians.howitworks.subtitle": "Join our platform in 4 simple steps",
        "technicians.howitworks.step1.title": "Sign Up",
        "technicians.howitworks.step1.text": "Complete your profile with your experience and specialties.",
        "technicians.howitworks.step2.title": "Verification",
        "technicians.howitworks.step2.text": "We validate your credentials and professional experience.",
        "technicians.howitworks.step3.title": "Receive Opportunities",
        "technicians.howitworks.step3.text": "Access jobs that match your skills and availability.",
        "technicians.howitworks.step4.title": "Work and Get Paid",
        "technicians.howitworks.step4.text": "Perform services and receive secure and timely payments.",

        "technicians.testimonials.title": "Technicians Who Trust Us",
        "technicians.testimonials.subtitle": "Real experiences from professionals in our community",
        "technicians.testimonials.card1.text": "\"Since joining ChambaPro, my monthly income increased by 40%. The platform is easy to use and the clients are excellent.\"",
        "technicians.testimonials.card1.role": "Electrician",
        "technicians.testimonials.card2.text": "\"The schedule flexibility allows me to balance my work and family. Plus, the technician support is excellent.\"",
        "technicians.testimonials.card2.role": "Plumber",
        "technicians.testimonials.card3.text": "\"The management tools save me hours of administration. Now I can focus on what I do best: repair.\"",
        "technicians.testimonials.card3.role": "Refrigeration Technician",

        "technicians.apply.title": "Ready to Join Our Community?",
        "technicians.apply.subtitle": "Start receiving jobs that match your skills and availability.",
        "technicians.apply.benefit1": "No monthly membership fees",
        "technicians.apply.benefit2": "Guaranteed and secure payments",
        "technicians.apply.benefit3": "Dedicated technical support",
        "technicians.apply.benefit4": "Free continuous training",
        "technicians.apply.formtitle": "Request Information",

        "technicians.form.name": "Full name",
        "technicians.form.email": "Email address",
        "technicians.form.phone": "Phone number",
        "technicians.form.specialty": "Select your specialty",
        "technicians.form.plumbing": "Plumbing",
        "technicians.form.electrical": "Electrical",
        "technicians.form.carpentry": "Carpentry",
        "technicians.form.painting": "Painting",
        "technicians.form.other": "Other",
        "technicians.form.submit": "Submit Application"
    },
    es: {
        // Navigation
        "nav.about": "Nosotros",
        "nav.services": "Servicios",
        "nav.team": "Nuestro Equipo",
        "nav.contact": "Contacto",
        "nav.technicians": "Para Técnicos",

        // Language toggle
        "language.english": "EN",
        "language.spanish": "ES",

        // Hero section
        "hero.title": "Encuentra el Técnico Ideal para las Necesidades de tu Hogar",
        "hero.subtitle": "Un profesional con amplia experiencia para todos tus requerimientos de mantenimiento y servicios para el hogar.",
        "hero.button": "Comenzar",

        // Team section
        "team.title": "Nuestro Equipo",

        // Mission section
        "mission.title": "Nuestra Misión y Visión",
        "mission.text": "Nuestra misión es simplificar el mantenimiento del hogar proporcionando una plataforma confiable que conecta a los usuarios con técnicos calificados. Visualizamos un futuro donde encontrar la ayuda adecuada para tu hogar sea sencillo y transparente.",

        // Benefits section
        "benefits.title": "Cómo ChambaPro Te Beneficia",
        "benefits.card1.title": "Ahorra Tiempo",
        "benefits.card1.text": "Encuentra rápidamente técnicos calificados sin pasar horas buscando y verificando.",
        "benefits.card2.title": "Precios Justos",
        "benefits.card2.text": "Obtén cotizaciones transparentes y precios competitivos para todas tus necesidades de servicio para el hogar.",
        "benefits.card3.title": "Profesionales Verificados",
        "benefits.card3.text": "Todos nuestros técnicos son thoroughly verificados y con antecedentes comprobados para tu tranquilidad.",

        // Footer
        "footer.about": "Nosotros",
        "footer.story": "Nuestra Historia",
        "footer.howItWorks": "Cómo Funciona",
        "footer.team": "Equipo",
        "footer.careers": "Carreras",
        "footer.services": "Servicios",
        "footer.plumbing": "Plomería",
        "footer.electrical": "Electricidad",
        "footer.carpentry": "Carpintería",
        "footer.painting": "Pintura",
        "footer.repairs": "Reparaciones Generales",
        "footer.contact": "Contacto",
        "footer.support": "Soporte",
        "footer.help": "Centro de Ayuda",
        "footer.faq": "Preguntas Frecuentes",
        "footer.book": "Reservar un Servicio",
        "footer.terms": "Términos de Servicio",
        "footer.privacy": "Política de Privacidad",
        "footer.termsUse": "Términos de Uso",
        "footer.cookie": "Política de Cookies",
        "footer.guarantee": "Garantía",
        "footer.rights": "Todos los derechos reservados.",

        // CTA Section
        "cta.technicians.title": "¿Eres Técnico?",
        "cta.technicians.subtitle": "Únete a nuestra red de profesionales y haz crecer tu negocio con ChambaPro",
        "cta.technicians.button": "Conoce Más",

        // Technician page translations
        "technicians.hero.title": "Únete a Nuestra Red de Técnicos Expertos",
        "technicians.hero.subtitle": "Maximiza tu potencial y haz crecer tu negocio con las mejores oportunidades del mercado",
        "technicians.hero.button": "Aplicar Ahora",

        "technicians.benefits.title": "Beneficios Exclusivos para Técnicos",
        "technicians.benefits.subtitle": "Descubre por qué más de 500 técnicos confían en nosotros",
        "technicians.benefits.card1.title": "Más Trabajos",
        "technicians.benefits.card1.text": "Accede a una cartera constante de clientes que necesitan tus servicios especializados.",
        "technicians.benefits.card2.title": "Mejores Ingresos",
        "technicians.benefits.card2.text": "Tarifas competitivas y oportunidades de trabajos premium con mayor remuneración.",
        "technicians.benefits.card3.title": "Flexibilidad Horaria",
        "technicians.benefits.card3.text": "Tú decides cuándo y cuánto trabajar. Controla tu agenda según tu disponibilidad.",
        "technicians.benefits.card4.title": "Protección y Seguridad",
        "technicians.benefits.card4.text": "Trabaja con tranquilidad gracias a nuestro seguro de responsabilidad civil y verificación de clientes.",
        "technicians.benefits.card5.title": "Herramientas Digitales",
        "technicians.benefits.card5.text": "Acceso a nuestra plataforma con gestión de citas, pagos automatizados y seguimiento de clientes.",
        "technicians.benefits.card6.title": "Capacitación Continua",
        "technicians.benefits.card6.text": "Programas de formación para mejorar tus habilidades y aprender nuevas técnicas.",

        "technicians.howitworks.title": "¿Cómo Funciona?",
        "technicians.howitworks.subtitle": "Únete a nuestra plataforma en 4 sencillos pasos",
        "technicians.howitworks.step1.title": "Regístrate",
        "technicians.howitworks.step1.text": "Completa tu perfil con tu experiencia y especialidades.",
        "technicians.howitworks.step2.title": "Verificación",
        "technicians.howitworks.step2.text": "Validamos tus credenciales y experiencia profesional.",
        "technicians.howitworks.step3.title": "Recibe Oportunidades",
        "technicians.howitworks.step3.text": "Accede a trabajos que coincidan con tus habilidades y disponibilidad.",
        "technicians.howitworks.step4.title": "Trabaja y Cobra",
        "technicians.howitworks.step4.text": "Realiza los servicios y recibe pagos seguros y puntuales.",

        "technicians.testimonials.title": "Técnicos que Confían en Nosotros",
        "technicians.testimonials.subtitle": "Experiencias reales de profesionales de nuestra comunidad",
        "technicians.testimonials.card1.text": "\"Desde que me uní a ChambaPro, mi ingreso mensual aumentó en un 40%. La plataforma es fácil de usar y los clientes son excelentes.\"",
        "technicians.testimonials.card1.role": "Electricista",
        "technicians.testimonials.card2.text": "\"La flexibilidad de horarios me permite balancear mi trabajo y mi familia. Además, el soporte al técnico es excelente.\"",
        "technicians.testimonials.card2.role": "Plomera",
        "technicians.testimonials.card3.text": "\"Las herramientas de gestión me ahorran horas de administración. Now I can focus on what I do best: repair.\"",
        "technicians.testimonials.card3.role": "Técnico en Refrigeración",

        "technicians.apply.title": "¿Listo para Unirte a Nuestra Comunidad?",
        "technicians.apply.subtitle": "Comienza a recibir trabajos que se adapten a tus habilidades y disponibilidad.",
        "technicians.apply.benefit1": "Sin cuotas de membresía mensuales",
        "technicians.apply.benefit2": "Pagos garantizados y seguros",
        "technicians.apply.benefit3": "Soporte técnico dedicado",
        "technicians.apply.benefit4": "Capacitación continua gratuita",
        "technicians.apply.formtitle": "Solicita Información",

        "technicians.form.name": "Nombre completo",
        "technicians.form.email": "Correo electrónico",
        "technicians.form.phone": "Teléfono",
        "technicians.form.specialty": "Selecciona tu especialidad",
        "technicians.form.plumbing": "Plomería",
        "technicians.form.electrical": "Electricidad",
        "technicians.form.carpentry": "Carpintería",
        "technicians.form.painting": "Pintura",
        "technicians.form.other": "Otra",
        "technicians.form.submit": "Enviar Solicitud"
    }
};

// Set initial language
let currentLanguage = 'en';

// Function to change language
function changeLanguage(lang) {
    currentLanguage = lang;
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang][key]) {
            element.textContent = translations[lang][key];
        }
    });

    // Update language toggle button
    const languageToggle = document.getElementById('languageToggle');
    const languageFlag = languageToggle.querySelector('.language-flag');
    const languageText = languageToggle.querySelector('.language-text');

    if (lang === 'en') {
        languageFlag.textContent = '🇺🇸';
        languageText.setAttribute('data-i18n', 'language.english');
        languageText.textContent = 'EN';
    } else {
        languageFlag.textContent = '🇪🇸';
        languageText.setAttribute('data-i18n', 'language.spanish');
        languageText.textContent = 'ES';
    }

    // Update html lang attribute
    document.documentElement.lang = lang;
}

// Language toggle functionality
document.getElementById('languageToggle').addEventListener('click', () => {
    const newLanguage = currentLanguage === 'en' ? 'es' : 'en';
    changeLanguage(newLanguage);

    // Save language preference to localStorage
    localStorage.setItem('chambapro-language', newLanguage);
});

// Check for saved language preference
document.addEventListener('DOMContentLoaded', () => {
    const savedLanguage = localStorage.getItem('chambapro-language');
    if (savedLanguage) {
        changeLanguage(savedLanguage);
    }

    // Mobile menu toggle functionality
    const menuToggle = document.getElementById('menuToggle');
    const navLinks = document.getElementById('navLinks');

    menuToggle.addEventListener('click', () => {
        navLinks.classList.toggle('active');
    });

    // Close menu when clicking on a link
    document.querySelectorAll('.nav-links a').forEach(link => {
        link.addEventListener('click', () => {
            navLinks.classList.remove('active');
        });
    });

    // Smooth scrolling for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            e.preventDefault();

            const targetId = this.getAttribute('href');
            if (targetId === '#') return;

            const targetElement = document.querySelector(targetId);
            if (targetElement) {
                // Calculate position accounting for fixed header
                const headerHeight = document.querySelector('header').offsetHeight;
                const targetPosition = targetElement.offsetTop - headerHeight;

                window.scrollTo({
                    top: targetPosition,
                    behavior: 'smooth'
                });
            }
        });
    });

    // Add animation when elements come into view
    const observerOptions = {
        root: null,
        rootMargin: '0px',
        threshold: 0.1
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('animate-in');
            }
        });
    }, observerOptions);

    // Observe elements for animation
    const elementsToAnimate = document.querySelectorAll('.team-member, .benefit-card, .mission-content');
    elementsToAnimate.forEach(el => {
        observer.observe(el);
    });
});
